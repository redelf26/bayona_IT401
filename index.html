<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>IT401 System Administration & Learning Diary</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="container">
      <header>
        <h1>ğŸ“š IT401 System Administration & Maintenance</h1>
        <p class="subtitle">Learning Journey & Documentation</p>
      </header>

      <nav class="navigation">
        <button class="nav-btn active" onclick="showSection('diary')">
          ğŸ“ Learning Diary
        </button>
        <button class="nav-btn" onclick="showSection('overview')">
          ğŸ“‹ Lesson Overview
        </button>
      </nav>

      <!-- Learning Diary Section -->
      <section id="diary" class="section active">
        <h2>ğŸ“ Learning Diary</h2>

        <div class="stats-container">
          <div class="stat-card">
            <div class="stat-number" id="totalEntries">0</div>
            <div>Total Entries</div>
          </div>
          <div class="stat-card">
            <div class="stat-number" id="currentWeek">1</div>
            <div>Current Week</div>
          </div>
          <div class="stat-card">
            <div class="stat-number" id="topicsLearned">0</div>
            <div>Topics Learned</div>
          </div>
          <div class="stat-card">
            <div class="stat-number" id="daysActive">0</div>
            <div>Days Active</div>
          </div>
        </div>

        <div class="diary-container">
          <!-- Add New Entry Form -->
          <div class="diary-form">
            <h3>âœï¸ Add New Learning Entry</h3>
            <form id="diaryForm" class="modern-form" novalidate>
              <!-- Form Grid Section 1: Basic Info -->
              <div class="form-section">
                <h4 class="section-title">ğŸ“ Basic Information</h4>
                <div class="form-grid">
                  <div class="form-group">
                    <label for="entryType" class="form-label">
                      <span class="label-text">Entry Type</span>
                      <span class="required">*</span>
                    </label>
                    <div class="input-wrapper">
                      <select
                        id="entryType"
                        class="form-input"
                        required
                        aria-describedby="entryType-error"
                      >
                        <option value="">Choose entry type...</option>
                        <option value="orientation">
                          ğŸ¯ Class Orientation
                        </option>
                        <option value="day">ğŸ“– Daily Learning</option>
                        <option value="lab">ğŸ”¬ Lab Exercise</option>
                        <option value="assignment">ğŸ“„ Assignment</option>
                        <option value="exam">ğŸ“ Exam/Quiz</option>
                        <option value="project">ğŸš€ Project Work</option>
                        <option value="research">ğŸ” Research/Reading</option>
                      </select>
                      <div class="input-icon">
                        <svg
                          width="16"
                          height="16"
                          fill="currentColor"
                          viewBox="0 0 16 16"
                        >
                          <path
                            d="M7.247 11.14L2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z"
                          />
                        </svg>
                      </div>
                    </div>
                    <div
                      id="entryType-error"
                      class="error-message"
                      role="alert"
                    ></div>
                  </div>

                  <div class="form-group">
                    <label for="weekNumber" class="form-label">
                      <span class="label-text">Week Number</span>
                      <span class="required">*</span>
                    </label>
                    <div class="input-wrapper">
                      <input
                        type="number"
                        id="weekNumber"
                        class="form-input"
                        min="1"
                        max="16"
                        value="1"
                        required
                        aria-describedby="weekNumber-help weekNumber-error"
                      />
                      <div class="input-icon">
                        <svg
                          width="16"
                          height="16"
                          fill="currentColor"
                          viewBox="0 0 16 16"
                        >
                          <path
                            d="M8 3.5a.5.5 0 0 0-1 0V9a.5.5 0 0 0 .252.434l3.5 2a.5.5 0 0 0 .496-.868L8 8.71V3.5z"
                          />
                          <path
                            d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm7-8A7 7 0 1 1 1 8a7 7 0 0 1 14 0z"
                          />
                        </svg>
                      </div>
                    </div>
                    <div id="weekNumber-help" class="help-text">
                      Current semester week (1-16)
                    </div>
                    <div
                      id="weekNumber-error"
                      class="error-message"
                      role="alert"
                    ></div>
                  </div>

                  <div class="form-group">
                    <label for="dayNumber" class="form-label">
                      <span class="label-text">Day</span>
                      <span class="optional">(optional)</span>
                    </label>
                    <div class="input-wrapper">
                      <input
                        type="number"
                        id="dayNumber"
                        class="form-input"
                        min="1"
                        max="3"
                        placeholder="1-3"
                        aria-describedby="dayNumber-help"
                      />
                      <div class="input-icon">
                        <svg
                          width="16"
                          height="16"
                          fill="currentColor"
                          viewBox="0 0 16 16"
                        >
                          <path
                            d="M11 6.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1z"
                          />
                          <path
                            d="M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4H1z"
                          />
                        </svg>
                      </div>
                    </div>
                    <div id="dayNumber-help" class="help-text">
                      Class session number within the week (1st day, 2nd day,
                      etc.)
                    </div>
                  </div>

                  <div class="form-group">
                    <label for="lessonDate" class="form-label">
                      <span class="label-text">Lesson Date</span>
                      <span class="optional">(optional)</span>
                    </label>
                    <div class="input-wrapper">
                      <input
                        type="date"
                        id="lessonDate"
                        class="form-input"
                        aria-describedby="lessonDate-help"
                      />
                      <div class="input-icon">
                        <svg
                          width="16"
                          height="16"
                          fill="currentColor"
                          viewBox="0 0 16 16"
                        >
                          <path
                            d="M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4H1z"
                          />
                          <path
                            d="M6.5 7a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm-9 3a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"
                          />
                        </svg>
                      </div>
                    </div>
                    <div id="lessonDate-help" class="help-text">
                      Date when this lesson took place
                    </div>
                  </div>
                </div>
              </div>

              <!-- Form Grid Section 2: Content -->
              <div class="form-section">
                <h4 class="section-title">ğŸ“š Learning Content</h4>

                <div class="form-group">
                  <label for="entryTitle" class="form-label">
                    <span class="label-text">Title/Topic</span>
                    <span class="required">*</span>
                  </label>
                  <div class="input-wrapper">
                    <input
                      type="text"
                      id="entryTitle"
                      class="form-input"
                      placeholder="What did you learn today?"
                      required
                      maxlength="100"
                      aria-describedby="entryTitle-error entryTitle-counter"
                    />
                    <div class="input-icon">
                      <svg
                        width="16"
                        height="16"
                        fill="currentColor"
                        viewBox="0 0 16 16"
                      >
                        <path
                          d="M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"
                        />
                        <path
                          d="M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"
                        />
                      </svg>
                    </div>
                  </div>
                  <div class="input-footer">
                    <div id="entryTitle-counter" class="char-counter">
                      0/100
                    </div>
                    <div
                      id="entryTitle-error"
                      class="error-message"
                      role="alert"
                    ></div>
                  </div>
                </div>

                <div class="form-group">
                  <label for="topics" class="form-label">
                    <span class="label-text">Topics Covered</span>
                    <span class="optional">(comma-separated)</span>
                  </label>
                  <div class="textarea-wrapper">
                    <textarea
                      id="topics"
                      class="form-textarea"
                      placeholder="Enter topics separated by commas:
Linux commands, File permissions, Network configuration, System administration, Security hardening, Troubleshooting..."
                      rows="3"
                      maxlength="250"
                      aria-describedby="topics-help topics-counter"
                      data-tags="true"
                    ></textarea>
                    <div class="textarea-resize-handle"></div>
                  </div>
                  <div class="input-footer">
                    <span id="topics-counter" class="char-counter">0/250</span>
                    <span id="topics-help" class="help-text">
                      Separate multiple topics with commas
                    </span>
                  </div>
                </div>

                <div class="form-group">
                  <label for="entryContent" class="form-label">
                    <span class="label-text">Learning Details</span>
                    <span class="required">*</span>
                  </label>
                  <div class="textarea-wrapper">
                    <textarea
                      id="entryContent"
                      class="form-textarea"
                      placeholder="Enter each learning point on a new line, or use - for bullets:
- Learned Linux commands
- Practiced file permissions
- Troubleshot network issues"
                      required
                      rows="6"
                      maxlength="2000"
                      aria-describedby="entryContent-error entryContent-counter"
                    ></textarea>
                    <div class="textarea-resize-handle"></div>
                  </div>
                  <div class="input-footer">
                    <div id="entryContent-counter" class="char-counter">
                      0/2000
                    </div>
                    <div
                      id="entryContent-error"
                      class="error-message"
                      role="alert"
                    ></div>
                  </div>
                </div>
              </div>

              <!-- Form Grid Section 3: Metadata -->
              <div class="form-section">
                <h4 class="section-title">âš™ï¸ Learning Metadata</h4>
                <div class="form-grid">
                  <div class="form-group">
                    <label for="timeSpent" class="form-label">
                      <span class="label-text">Time Spent</span>
                      <span class="optional">(hours)</span>
                    </label>
                    <div class="input-wrapper">
                      <input
                        type="number"
                        id="timeSpent"
                        class="form-input"
                        min="0.5"
                        max="24"
                        step="0.5"
                        placeholder="2.5"
                        aria-describedby="timeSpent-help"
                      />
                      <div class="input-icon">
                        <svg
                          width="16"
                          height="16"
                          fill="currentColor"
                          viewBox="0 0 16 16"
                        >
                          <path
                            d="M8 3.5a.5.5 0 0 0-1 0V9a.5.5 0 0 0 .252.434l3.5 2a.5.5 0 0 0 .496-.868L8 8.71V3.5z"
                          />
                          <path
                            d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm7-8A7 7 0 1 1 1 8a7 7 0 0 1 14 0z"
                          />
                        </svg>
                      </div>
                    </div>
                    <div id="timeSpent-help" class="help-text">
                      Estimated learning time in hours
                    </div>
                  </div>
                </div>
              </div>

              <!-- Submit Button -->
              <div class="form-actions">
                <button type="submit" class="btn btn-primary">
                  <span class="btn-icon">ğŸ’¾</span>
                  <span class="btn-text">Save Learning Entry</span>
                  <div class="btn-loader" aria-hidden="true">
                    <svg
                      width="16"
                      height="16"
                      fill="currentColor"
                      viewBox="0 0 16 16"
                    >
                      <path
                        d="M8 0c-4.418 0-8 3.582-8 8 0 1.017.196 1.989.552 2.887l1.614-.914A5.928 5.928 0 0 1 2 8c0-3.313 2.687-6 6-6s6 2.687 6 6-2.687 6-6 6a5.928 5.928 0 0 1-2.166-.166l-.914 1.614A7.929 7.929 0 0 0 8 16c4.418 0 8-3.582 8-8S12.418 0 8 0z"
                      />
                    </svg>
                  </div>
                </button>
              </div>
            </form>

            <div class="export-section">
              <h4>ğŸ“¥ Data Management</h4>
              <button class="btn btn-secondary" onclick="exportDiary()">
                ğŸ“¤ Export Diary (JSON)
              </button>
              <button class="btn btn-secondary" onclick="importDiary()">
                ğŸ“¥ Import Diary
              </button>
              <input
                type="file"
                id="importFile"
                accept=".json"
                style="display: none"
              />
            </div>
          </div>

          <!-- Display Entries -->
          <div class="diary-entries">
            <h3>ğŸ“š Learning Entries</h3>

            <div class="search-filter">
              <input
                type="text"
                id="searchEntries"
                placeholder="ğŸ” Search entries..."
              />
              <select id="filterWeek">
                <option value="">All Weeks</option>
              </select>
              <select id="filterType">
                <option value="">All Types</option>
                <option value="week">Weekly Summary</option>
                <option value="orientation">Class Orientation</option>
                <option value="day">Daily Learning</option>
                <option value="lab">Lab Exercise</option>
                <option value="assignment">Assignment</option>
                <option value="exam">Exam/Quiz</option>
                <option value="project">Project Work</option>
                <option value="research">Research/Reading</option>
              </select>
            </div>

            <div id="entriesContainer">
              <div class="no-entries">
                ğŸ“ No entries yet. Start documenting your learning journey!
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Lesson Overview Section -->
      <section id="overview" class="section">
        <h2>ğŸ“‹ Weekly & Daily Learning Overview</h2>

        <div class="card">
          <h3>Your Learning Progress</h3>
          <p>
            Track your actual progress through the weekly lessons and daily
            activities in IT401 System Administration and Maintenance based on
            your diary entries.
          </p>
        </div>

        <div class="card">
          <h3>Your Learning Journey</h3>
          <div id="learningOverview" class="timeline">
            <div class="no-entries">
              ğŸ“ No learning entries yet. Start documenting your journey in the
              Learning Diary tab!
            </div>
          </div>
        </div>
      </section>
    </div>

    <!-- Firebase SDK v9+ (modular) -->
    <script type="module">
      // Import the functions you need from the SDKs you need
      import { initializeApp } from "https://www.gstatic.com/firebasejs/10.14.0/firebase-app.js";
      import {
        getFirestore,
        collection,
        doc,
        setDoc,
        getDoc,
      } from "https://www.gstatic.com/firebasejs/10.14.0/firebase-firestore.js";

      // Your web app's Firebase configuration
      const firebaseConfig = {
        apiKey: "AIzaSyDZ12v4b61_8D5U8NFW0fJSBPq5o_Vaag8",
        authDomain: "it401-lessondocs.firebaseapp.com",
        projectId: "it401-lessondocs",
        storageBucket: "it401-lessondocs.firebasestorage.app",
        messagingSenderId: "337403223589",
        appId: "1:337403223589:web:0b6be7b67936d55b2e29cc",
      };

      // Initialize Firebase
      const app = initializeApp(firebaseConfig);
      const db = getFirestore(app);

      // Make Firebase available globally for the main script
      window.firebaseApp = app;
      window.firebaseDb = db;
      window.firebaseSetDoc = setDoc;
      window.firebaseGetDoc = getDoc;
      window.firebaseDoc = doc;
      window.firebaseCollection = collection;
    </script>

    <script src="script.js"></script>
  </body>
</html>
